{"ast":null,"code":"export const someItems = cartItems => {\n  return {\n    itemCount: cartItems.reduce((total, product) => total + product.quantity, 0),\n    total: cartItems.reduce((total, product) => total + product.price * product.quantity, 0)\n  };\n};\n\nconst CartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_ITEM':\n      //check if item is already in the cart \n      if (!state.cartItems.find(item => item.id === action.payload.id)) {\n        state.cartItems.push({ ...action.payload,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'INCREASE':\n      const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      state.cartItems[increaseIndex].quantity++;\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'DECREASE':\n      const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      const product = state.cartItems[decreaseIndex];\n\n      if (product.quantity > 1) {\n        product.quantity--;\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'REMOVE_ITEM':\n      const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        cartItems: [...newCartItems],\n        ...someItems(newCartItems)\n      };\n\n    case 'CLEAR':\n      return {\n        cartItems: [],\n        itemCount: 0,\n        total: 0\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = CartReducer;\nexport default CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["/Users/decagon/react-e-commerce-project/src/context/CartReducer.jsx"],"names":["someItems","cartItems","itemCount","reduce","total","product","quantity","price","CartReducer","state","action","type","find","item","id","payload","push","increaseIndex","findIndex","decreaseIndex","newCartItems","filter"],"mappings":"AAAA,OAAQ,MAAMA,SAAS,GAAGC,SAAS,IAAI;AACnC,SAAM;AACFC,IAAAA,SAAS,EAAED,SAAS,CAACE,MAAV,CAAiB,CAACC,KAAD,EAAQC,OAAR,KAAoBD,KAAK,GAAGC,OAAO,CAACC,QAArD,EAA+D,CAA/D,CADT;AAEFF,IAAAA,KAAK,EAAEH,SAAS,CAACE,MAAV,CAAiB,CAACC,KAAD,EAAQC,OAAR,KAAoBD,KAAK,GAAIC,OAAO,CAACE,KAAR,GAAgBF,OAAO,CAACC,QAAtE,EAAiF,CAAjF;AAFL,GAAN;AAIH,CALO;;AAOR,MAAME,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,UAAL;AACI;AACA,UAAI,CAACF,KAAK,CAACR,SAAN,CAAgBW,IAAhB,CAAqBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAAxD,CAAL,EAAkE;AAC9DL,QAAAA,KAAK,CAACR,SAAN,CAAgBe,IAAhB,CAAqB,EACjB,GAAGN,MAAM,CAACK,OADO;AAEjBT,UAAAA,QAAQ,EAAE;AAFO,SAArB;AAIH;;AACD,aAAO,EACH,GAAGG,KADA;AAEHR,QAAAA,SAAS,EAAE,CAAC,GAAGQ,KAAK,CAACR,SAAV,CAFR;AAGH,WAAGD,SAAS,CAACS,KAAK,CAACR,SAAP;AAHT,OAAP;;AAMJ,SAAK,UAAL;AACI,YAAMgB,aAAa,GAAGR,KAAK,CAACR,SAAN,CAAgBiB,SAAhB,CAA0BL,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA7D,CAAtB;AACAL,MAAAA,KAAK,CAACR,SAAN,CAAgBgB,aAAhB,EAA+BX,QAA/B;AAEJ,aAAO,EACH,GAAGG,KADA;AAEHR,QAAAA,SAAS,EAAE,CAAC,GAAGQ,KAAK,CAACR,SAAV,CAFR;AAGH,WAAGD,SAAS,CAACS,KAAK,CAACR,SAAP;AAHT,OAAP;;AAMA,SAAK,UAAL;AACI,YAAMkB,aAAa,GAAGV,KAAK,CAACR,SAAN,CAAgBiB,SAAhB,CAA0BL,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA7D,CAAtB;AACA,YAAMT,OAAO,GAAGI,KAAK,CAACR,SAAN,CAAgBkB,aAAhB,CAAhB;;AACA,UAAId,OAAO,CAACC,QAAR,GAAmB,CAAvB,EAA0B;AACtBD,QAAAA,OAAO,CAACC,QAAR;AACH;;AAEL,aAAO,EACH,GAAGG,KADA;AAEHR,QAAAA,SAAS,EAAE,CAAC,GAAGQ,KAAK,CAACR,SAAV,CAFR;AAGH,WAAGD,SAAS,CAACS,KAAK,CAACR,SAAP;AAHT,OAAP;;AAOA,SAAK,aAAL;AACI,YAAMmB,YAAY,GAAGX,KAAK,CAACR,SAAN,CAAgBoB,MAAhB,CAAuBR,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,OAAP,CAAeD,EAA1D,CAArB;AAEJ,aAAO,EACH,GAAGL,KADA;AAEHR,QAAAA,SAAS,EAAE,CAAC,GAAGmB,YAAJ,CAFR;AAGH,WAAGpB,SAAS,CAACoB,YAAD;AAHT,OAAP;;AAQA,SAAK,OAAL;AAEA,aAAO;AACHnB,QAAAA,SAAS,EAAE,EADR;AAEHC,QAAAA,SAAS,EAAE,CAFR;AAGHE,QAAAA,KAAK,EAAE;AAHJ,OAAP;;AAMA;AACA,aAAOK,KAAP;AA3DJ;AA6DH,CA9DD;;KAAMD,W;AAgEN,eAAeA,WAAf","sourcesContent":["export  const someItems = cartItems => {\n    return{\n        itemCount: cartItems.reduce((total, product) => total + product.quantity, 0),\n        total: cartItems.reduce((total, product) => total + (product.price * product.quantity), 0)\n    }\n}\n\nconst CartReducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_ITEM':\n            //check if item is already in the cart \n            if (!state.cartItems.find(item => item.id === action.payload.id)) {\n                state.cartItems.push({\n                    ...action.payload,\n                    quantity: 1,\n                })\n            }\n            return {\n                ...state,\n                cartItems: [...state.cartItems],\n                ...someItems(state.cartItems)\n            }\n        \n        case 'INCREASE':\n            const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n            state.cartItems[increaseIndex].quantity++;\n\n        return {\n            ...state,\n            cartItems: [...state.cartItems],\n            ...someItems(state.cartItems),\n        }\n\n        case 'DECREASE':\n            const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n            const product = state.cartItems[decreaseIndex];\n            if (product.quantity > 1) {\n                product.quantity--;\n            }\n\n        return {\n            ...state,\n            cartItems: [...state.cartItems],\n            ...someItems(state.cartItems),\n        }\n\n\n        case 'REMOVE_ITEM':\n            const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n    \n        return {\n            ...state,\n            cartItems: [...newCartItems],\n            ...someItems(newCartItems),\n        }\n\n\n\n        case 'CLEAR':\n    \n        return {\n            cartItems: [],\n            itemCount: 0,\n            total: 0,\n        }\n        \n        default:\n        return state;\n    }\n}\n\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}