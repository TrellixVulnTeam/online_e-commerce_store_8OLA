{"ast":null,"code":"export const storeCartItems = cartItems => {\n  const cart = cartItems.length > 0 ? cartItems : [];\n};\nexport const someItems = cartItems => {\n  return {\n    itemCount: cartItems.reduce((total, product) => total + product.quantity, 0),\n    total: cartItems.reduce((total, product) => total + product.price * product.quantity, 0)\n  };\n};\n\nconst CartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_ITEM':\n      //check if item is already in the cart \n      if (!state.cartItems.find(item => item.id === action.payload.id)) {\n        state.cartItems.push({ ...action.payload,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'INCREASE':\n      const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      state.cartItems[increaseIndex].quantity++;\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'DECREASE':\n      const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      const product = state.cartItems[decreaseIndex];\n\n      if (product.quantity > 1) {\n        product.quantity--;\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'REMOVE_ITEM':\n      const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        cartItems: [...newCartItems],\n        ...someItems(newCartItems)\n      };\n\n    case 'CLEAR':\n      return {\n        cartItems: [],\n        itemCount: 0,\n        total: 0\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = CartReducer;\nexport default CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["/Users/decagon/react-e-commerce-project/src/context/CartReducer.jsx"],"names":["storeCartItems","cartItems","cart","length","someItems","itemCount","reduce","total","product","quantity","price","CartReducer","state","action","type","find","item","id","payload","push","increaseIndex","findIndex","decreaseIndex","newCartItems","filter"],"mappings":"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","sourcesContent":["export const storeCartItems = (cartItems) => {\n    const cart = cartItems.length > 0 ? cartItems : [];\n}\n\n\nexport const someItems = cartItems => {\n    return{\n        itemCount: cartItems.reduce((total, product) => total + product.quantity, 0),\n        total: cartItems.reduce((total, product) => total + (product.price * product.quantity), 0)\n    }\n}\n\nconst CartReducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_ITEM':\n            //check if item is already in the cart \n            if (!state.cartItems.find(item => item.id === action.payload.id)) {\n                state.cartItems.push({\n                    ...action.payload,\n                    quantity: 1,\n                })\n            }\n            return {\n                ...state,\n                cartItems: [...state.cartItems],\n                ...someItems(state.cartItems)\n            }\n        \n        case 'INCREASE':\n            const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n            state.cartItems[increaseIndex].quantity++;\n\n        return {\n            ...state,\n            cartItems: [...state.cartItems],\n            ...someItems(state.cartItems),\n        }\n\n        case 'DECREASE':\n            const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n            const product = state.cartItems[decreaseIndex];\n            if (product.quantity > 1) {\n                product.quantity--;\n            }\n\n        return {\n            ...state,\n            cartItems: [...state.cartItems],\n            ...someItems(state.cartItems),\n        }\n\n\n        case 'REMOVE_ITEM':\n            const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n    \n        return {\n            ...state,\n            cartItems: [...newCartItems],\n            ...someItems(newCartItems),\n        }\n\n        case 'CLEAR':\n        return {\n            cartItems: [],\n            itemCount: 0,\n            total: 0,\n        }\n        \n\n        default:\n        return state;\n    }\n}\n\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}