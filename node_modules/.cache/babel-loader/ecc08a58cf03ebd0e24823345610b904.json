{"ast":null,"code":"export const storeCartItems = cartItems => {\n  const cart = cartItems.length > 0 ? cartItems : [];\n  localStorage.setItem('cart', JSON.stringify(cart));\n};\nexport const someItems = cartItems => {\n  storeCartItems(cartItems);\n  return {\n    itemCount: cartItems.reduce((total, product) => total + product.quantity, 0),\n    total: cartItems.reduce((total, product) => total + product.price * product.quantity, 0)\n  };\n};\n\nconst CartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_ITEM':\n      //check if item is already in the cart \n      if (!state.cartItems.find(item => item.id === action.payload.id)) {\n        state.cartItems.push({ ...action.payload,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'INCREASE':\n      const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      state.cartItems[increaseIndex].quantity++;\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'DECREASE':\n      const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n      const product = state.cartItems[decreaseIndex];\n\n      if (product.quantity > 1) {\n        product.quantity--;\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems],\n        ...someItems(state.cartItems)\n      };\n\n    case 'REMOVE_ITEM':\n      const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        cartItems: [...newCartItems],\n        ...someItems(newCartItems)\n      };\n\n    case 'CLEAR':\n      localStorage.removeItem('cart');\n      return {\n        cartItems: [],\n        itemCount: 0,\n        total: 0\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = CartReducer;\nexport default CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["/Users/decagon/react-e-commerce-project/src/context/CartReducer.jsx"],"names":["storeCartItems","cartItems","cart","length","localStorage","setItem","JSON","stringify","someItems","itemCount","reduce","total","product","quantity","price","CartReducer","state","action","type","find","item","id","payload","push","increaseIndex","findIndex","decreaseIndex","newCartItems","filter","removeItem"],"mappings":"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","sourcesContent":["export const storeCartItems = (cartItems) => {\n    const cart = cartItems.length > 0 ? cartItems : [];\n    localStorage.setItem('cart', JSON.stringify(cart))\n}\n\n\nexport const someItems = cartItems => {\n    storeCartItems(cartItems); \n    return{\n        itemCount: cartItems.reduce((total, product) => total + product.quantity, 0),\n        total: cartItems.reduce((total, product) => total + (product.price * product.quantity), 0)\n    }\n}\n\nconst CartReducer = (state, action) => {\n    switch (action.type) {\n        case 'ADD_ITEM':\n            //check if item is already in the cart \n            if (!state.cartItems.find(item => item.id === action.payload.id)) {\n                state.cartItems.push({\n                    ...action.payload,\n                    quantity: 1,\n                })\n            }\n            return {\n                ...state,\n                cartItems: [...state.cartItems],\n                ...someItems(state.cartItems)\n            }\n        \n        case 'INCREASE':\n            const increaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n            state.cartItems[increaseIndex].quantity++;\n\n        return {\n            ...state,\n            cartItems: [...state.cartItems],\n            ...someItems(state.cartItems),\n        }\n\n        case 'DECREASE':\n            const decreaseIndex = state.cartItems.findIndex(item => item.id === action.payload.id);\n            const product = state.cartItems[decreaseIndex];\n            if (product.quantity > 1) {\n                product.quantity--;\n            }\n\n        return {\n            ...state,\n            cartItems: [...state.cartItems],\n            ...someItems(state.cartItems),\n        }\n\n\n        case 'REMOVE_ITEM':\n            const newCartItems = state.cartItems.filter(item => item.id !== action.payload.id);\n    \n        return {\n            ...state,\n            cartItems: [...newCartItems],\n            ...someItems(newCartItems),\n        }\n\n        case 'CLEAR':\n            localStorage.removeItem('cart')\n        return {\n            cartItems: [],\n            itemCount: 0,\n            total: 0,\n        }\n        \n\n        default:\n        return state;\n    }\n}\n\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}